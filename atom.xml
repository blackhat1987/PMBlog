<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[PMBlog]]></title>
  <link href="http://lizheming.github.io/PMBlog/atom.xml" rel="self"/>
  <link href="http://lizheming.github.io/PMBlog/"/>
  <updated>2013-10-27T13:50:37+08:00</updated>
  <id>http://lizheming.github.io/PMBlog/</id>
  <generator uri="http://gitcafe.com/lizheming/pmblog">PMBlog</generator>

    <entry>
    <title type="html"><![CDATA[PMBlog升级至3.3版]]></title>
    <link href="http://lizheming.github.io/PMBlog/update-to-3.3.html"/>
    <id>http://lizheming.github.io/PMBlog/update-to-3.3.html</id>
    <updated>2013-10-27T13:18:51+08:00</updated>
    <content type="html"><![CDATA[<h2>新增功能</h2>

<h3>新增三个变量</h3>

<h4>post.opening 和 post.read_more</h4>

<blockquote>
  <p><code>post.opening</code> :　以&lt;!--more--&gt;分割post.content，并提取前半部分</p>
  
  <p><code>post.read_more</code>: 如果post.opening已是全文，则为false；反之为true</p>
</blockquote>

<p>详细内容请看：<a href="https://github.com/lizheming/PMBlog/wiki/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%8F%8A%E5%AD%97%E6%AE%B5#post">WIKI</a></p>

<p>增加这两个变量主要是想要在导航页输出摘要。下面给一个简单的示例：</p>

<pre><code>&lt;div class="content"&gt;
    {{post.opening}}
    {% if post.read_more %}
        &lt;span class="read_more"&gt;阅读全文&lt;/span&gt;
    {% endif %}
&lt;/div&gt;
</code></pre>

<h4>post.custom</h4>

<blockquote>
  <p><code>post.custom</code>: 文章的自定义变量（在文章用以custom-变量名:变量值实现）</p>
</blockquote>

<p>详细内容请看<a href="https://github.com/lizheming/PMBlog/wiki/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%8F%8A%E5%AD%97%E6%AE%B5#post">WIKI</a></p>

<p>新增此变量之后用户就可以在文章中自定义头部变量了，下面给个示例：</p>

<p>例如你需要一个<code>description</code>变量存储文章的简介，那么你在编写文章的时候需要这么写</p>

<blockquote>
  <p>custom-description: 这篇文章讲述了一个潸然泪下的故事</p>
  
  <p>从前有个公主，还有个王子，然后他们快乐幸福的生活在了一起。</p>
</blockquote>

<p>在模板中使用<code>{{post.custom.description}}</code>变量的话就会输出<code>这篇文章讲述了一个潸然泪下的故事</code>了。</p>

<h3>自定义日志文件存储位置</h3>

<p>在<code>config.php</code>文件中新增了两个配置，那就是<code>$site['config']['router']['post']</code>和<code>$site['config']['router']['page']</code>。通过自定义文件的存储路径达到自定义文章和页面的访问地址的目的。目前，文章和页面的访问地址是这样的格式：</p>

<pre><code>日志： {{site.url}} / {{site.config.router.post}} / {{post.filename}} .html

页面： {{site.url}} / {{site.config.router.page}} / {{post.filename}} .html
</code></pre>

<h3>日志子文件夹读取</h3>

<p>新版对日志文件夹的子文件夹提供了支持（之前只支持日志文件夹根目录下的文件）。并且，子文件夹的名称会作为子文件夹内的文章的一个分类。比如说你的日志文件夹是这样的</p>

<pre><code>|----doc
    |----生活
        |----这个月被抢了.md
        |----又被抢了.md
    |----技术
        |----1+1为什么等于2.md
        |----暴库的那些事.md
</code></pre>

<p>那么程序就会自动获取得到分类为:</p>

<pre><code>category: {
    '生活': ['这个月被抢了', '又被抢了'],
    '技术': ['1+1为什么等于2', '暴库的那些事']
}
</code></pre>

<p>注：子文件夹分类不会影响日志的<code>category</code>变量，<code>category</code>变量同时可用，两者会叠加。</p>

<h3>日志支持自定义模板</h3>

<p>这个功能其实之前已经有，但是后来我又去掉了，这下应用户的要求又加上了。</p>

<h2>修复BUG</h2>

<h3>TWIG模板无法加载的错误</h3>

<h3>文章中存在多个#标签的时候无法识别H1标签作为标题</h3>

<h3>其它大大小小BUG</h3>
]]></content>
  </entry>
    <entry>
    <title type="html"><![CDATA[PMBlog全新3.0版低调上线]]></title>
    <link href="http://lizheming.github.io/PMBlog/update-to-3.0.html"/>
    <id>http://lizheming.github.io/PMBlog/update-to-3.0.html</id>
    <updated>2013-09-19T22:19:56+08:00</updated>
    <content type="html"><![CDATA[<p>大概是今年2月份的时候我写了这个程序，当时也没怎么搜资料，就是按照自己的思路写啊写啊写，写到后面就发现越来越坑，不仅维护特别累（前面3个版本每个版都是重写的），而且扩展方面特别让自己无语。</p>

<p>说到底这个程序只是负责<code>Markdown解析</code>+<code>模板生成</code>而已。之前用的模板引擎是自己写的，不仅有BUG，而且语法很坑爹。后来在无意中知道了有模板引擎这么一个东西，表示才知道自己在造轮子啊T_T!!!! 3.0新版摒弃了自己写的模板引擎，采用了全新的<code>Twig</code>模板引擎，语法和Djang，jinjia类似（官网说的）。这样做最重要的是其它的比如Jekyll或者Farbox的模板只要稍加修改一下就可以用到PMBlog上来了！当然采用了<code>Twig</code>之后我对这个程序的贡献度就更小了。</p>

<p>呐，不管怎么说，新版就这么上线了。由于跟老版的模板引擎不同，所以之前写的模板都不能用在新版上的说~ 不过我都在慢慢的转换过来，同志们可以到 <a href="http://lizheming.github.io/PMBlog/page/theme.html">主题库</a> 上下载喜欢的主题。</p>

<p>虽然程序简单，没什么技术含量，不过这也是我自己一直在坚持写的东西，希望大家多给点意见。</p>
]]></content>
  </entry>
    <entry>
    <title type="html"><![CDATA[Hello World!]]></title>
    <link href="http://lizheming.github.io/PMBlog/hello-world.html"/>
    <id>http://lizheming.github.io/PMBlog/hello-world.html</id>
    <updated>2013-03-15T19:35:50+08:00</updated>
    <content type="html"><![CDATA[<p>欢迎加入PMBlog家族。</p>

<h2>自定义内容</h2>

<p>config.php页面支持自定义多种内容，包括博客名，博客地址，文章时间输出格式，博客模板，markdown文件存放位置，输出静态页面存放位置，导航页每页显示文章数，以及社会化评论等。</p>

<!--more-->

<h2>书写规则</h2>

<p>默认的情况是：
- 文件名即文章的URL名，也是文章的ID</p>

<ul>
<li><p>文件创建时间为文章标题</p></li>
<li><p>文件内容，即文章正文</p></li>
</ul>

<p>注：不推荐使用中文作为文件名</p>

<p>同时程序支持自定义字段</p>

<pre><code>title: 这里写你的文章标题（可选）

date: 这里写文章的发表时间（可选，默认为文本文件的创建时间）

type: page (可选，只接受page/post两个参数，默认为post)

status: draft (可选，接受public/draft两个参数，draft的文章不会被别人看到)

tags: Tag1， Tag2 (可选，使用,分隔每个标签）

category: cate1, cate2 (可选，使用, 分隔每个分类名称)

template: guestbook （可选，自定义页面模板）    

从这里开始就是文章正文了...
</code></pre>

<h2>尾言</h2>

<p>如果你对程序有什么疑问或者建议，请电邮告诉我。最后，感谢你的使用。</p>

<p>--以上--</p>
]]></content>
  </entry>
  </feed>